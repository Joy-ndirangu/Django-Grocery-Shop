{% extends "layout.html" %}
{% load static %}
{% block body %}

    <!-- Page Header Start -->
    <div class="container-fluid page-header mb-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container">
            <h1 class="display-3 mb-3 animated slideInDown">Cart</h1>
            <nav aria-label="breadcrumb animated slideInDown">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a class="text-body" href="{% url 'Store:home' %}">Home</a></li>
                    <li class="breadcrumb-item"><a class="text-body" href="{% url 'Store:products' %}">Products</a></li>
                    <li class="breadcrumb-item text-dark active" aria-current="page">Cart</li>
                </ol>
            </nav>
        </div>
    </div>
    <!-- Page Header End -->
    <div class="container">
                <h2 class="p-3">Cart</h2>

        <div class="row">
            <div class="col-md-8 border border-black p-3 mb-5 ">
                <a href="{% url 'Store:products' %}" class="btn btn-outline-dark">&#x2190; Continue Shopping</a>

                <table class="table">
                    <thead>
                        <tr >
                          <th scope="col"><h5>Items: <strong>{{ order.get_cart_items }}</strong></h5></th>
                          <th scope="col"> <h5>Total: <strong>Ksh {{ order.get_cart_total }}</strong></h5> </th>
                          <th scope="col">
                              <a href="{% url 'Store:checkout' %}" class="btn btn-success" style="float: right; margin: 5px; ">Checkout</a>
                          </th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
        {% for item in items %}
        	        <div class="row">
            <div class="col-md-8 border border-black p-3">
{##}
{#            {% for message in messages %}#}
{##}
{#                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">#}
{#                    {{ message }}#}
{#                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>#}
{#            </div>#}
{##}
{#            {% endfor %}#}

            	<table class="table " >
                    <thead>
                        <tr >
                          <th scope="col">#</th>
                          <th scope="col"> </th>
                          <th scope="col">Product</th>
                          <th scope="col">Price</th>
                          <th scope="col">Quantity</th>
                          <th scope="col">Total</th>
                        </tr>
                    </thead>

                    <tbody>
                      <tr>
                          <th scope="row">{{ item.id }}</th>
                          <td><img class="img-fluid" src="http://127.0.0.1:8000/media/{{item.product.image }}" width="50" height="30" alt=""> </td>
                          <td>{{ item.product.name }}</td>
                          <td>Ksh {{ item.product.price }}</td>
                          <td>
                              <div class="input-group mb-3" style="max-width: 120px;">
                                    <button data-product="{{ item.product.id }}" data-action="remove" class=" btn btn-outline-black update-cart " type="button">&minus;</button>
                                     <p class="quantity">{{ item.quantity }}</p>
                                    <button data-product="{{ item.product.id }}" data-action="add" class="btn btn-outline-black update-cart" type="button">&plus;</button>
                            </div>
                          </td>
                          <td>KSh {{ item.get_total }} </td>
                      </tr>
                    </tbody>
               </table>
            </div>
        </div>

        {% endfor %}

    </div>

{% endblock %}